<html>
<head>
<title>
</title>
 
</head>
<body>
<div id="fb-root"></div>
<script>
  function showDiscountCode(response) {
    // if they unliked you...
    if (response && response.state === 'off') {
      hideDiscountCode();
    } else {
      $('.discount-code').slideDown('slow');
    }
  }
  function hideDiscountCode() {
    $('.discount-code').slideUp('slow');
  }
  // load js for facebook 
  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
  // load js for g+
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/platform.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
  // load js for twitter
  window.twttr = (function (d,s,id) {
    var t, js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
    js.src="//platform.twitter.com/widgets.js";
    fjs.parentNode.insertBefore(js, fjs);
    return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
  }(document, "script", "twitter-wjs"));
  // sets up event listeners for when someone (un)likes the page
  window.fbAsyncInit = function() {
    FB.init({ appId: 'YOUR_APP_ID', status : true, cookie : true, xfbml  : true });
    FB.Event.subscribe('edge.create', function(response) { showDiscountCode(); });
    FB.Event.subscribe('edge.remove', function(response) { hideDiscountCode(); });
  };
  // setup event listener for tweet callback
  twttr.ready(function (twttr) {
    twttr.events.bind('tweet', function(event) {
      showDiscountCode();
    });
  });
</script>


<!--  <script>
   // window.fbAsyncInit = function() {
    FB.init({
        appId: '760924310940272',
        status: true,
        cookie: true,
        xfbml: true,
        oauth: true
    });
    FB.Event.subscribe('edge.create', function(response) {
        alert('You liked the URL: ' + response);

      });
};
(function(d) {
    var js, id = 'facebook-jssdk';
    if (d.getElementById(id)) {
        return;
    }
    js = d.createElement('script');
    js.id = id;
    js.async = true;
    js.src = "//connect.facebook.net/en_US/all.js";
    d.getElementsByTagName('head')[0].appendChild(js);
}(document));
// document.getElementById('shareBtn').onclick = function() {
//   FB.ui(
// {
//   method: 'share',
//   display: 'popup',
//   href: 'https://developers.facebook.com/docs/',
// },
// function(response) {
//   if (response && response.post_id) {
//     alert('Post was published.');
//   } else {
//     alert('Post was not published.');
//   }
// }
// );
// } 
  var tweetUrlBuilder = function(o){
    return [
        'https://twitter.com/intent/tweet?tw_p=tweetbutton',
        '&url=', encodeURI(o.url),
        '&via=', o.via,
        '&text=', o.text
    ].join('');
};

$('.sharebtn').on('click', function(){
    var url = tweetUrlBuilder({
        url : 'http://bit.ly/OChT65',
        via : 'ProJavaScript',
        text: 'How to make a custom share tweet button and know when the user tweeted'
    });
    window.open(url, 'Tweet', 'height=500,width=700');
})

// Called by the Twitter, many times during it's
// life-cycle. We only want to know when the user
// has tweeted, so the following filters are required.
var callback = function(e){
    if(e && e.data){
        var data;
        try{
            data = JSON.parse(e.data);
        }catch(e){
            // Don't care.
        }
        if(data && data.params && data.params.indexOf('tweet') > -1){
            alert('Thanks for the tweet!');
        }
    }
};

window.addEventListener ? window.addEventListener("message", callback, !1) : window.attachEvent("onmessage", callback)

 </script> 

 -->
</body>
</html>
